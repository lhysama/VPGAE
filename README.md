# Learning Vertical Partitions with Graph AutoEncoder

## Introduction

This is a PyTorch implementation of our proposed vertical partitioning algorithm: **VPGAE** and **VPGAE-B**, as described in our paper:

**VPGAE: Learning Vertical Partitions with Graph AutoEncoder** (The paper link will be displayed after publication)

## Requirements

- PyTorch (>=1.4.0)
- PyTorch Geometric
- numpy
- matplotlib
- sklearn
- more_itertools
- scipy
- tqdm
- pyvis

## Run our experiments

We have implemented all the experiments mentioned in our paper in the *vertical_partition.py* file, so we can directly run this file using Python:

```python
python vertical_partition.py
```

By default, this program will run TPC-H benchmark experiments. You can open the corresponding code blocks in the file to perform other experiments.

## Implemented methods

- VPGAE: Our proposed vertical partitioning method using graph model.
- VPGAE-B: A refined version of VPGAE.  We apply a beam search algorithm on the basis of VPGAE to get better solutions.
- HILLCLIMB: A bottom-up greedy search algorithm. It starts from COLUMN layout and in each iteration, it merges two partitions that provide the highest improvement.
- OPTIMAL: An exhaustive algorithm that checks all possible partitioning schemes.
- COLUMN: A special layout that treats one attribute as one partition.
- ROW: A special layout that treats all attributes as one partition. 

Note that, we did not implement NAVATHE, HYRISE and O2P in our project, because these three algorithms have been implemented in [Vertical partitioning algorithms used in physical design of databases](https://github.com/palatinuse/database-vertical-partitioning) and we used the partition results generated by their project for comparison.
